[{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"validateScenarios","text":"function validateScenarios() performs validation checks IAM scenario data based thresholds provided tailored config file. checks either analyse agreement historical reference data expectations scenario data.","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"validateScenarios","text":"package available via R package repository PIK. detailed information please refer Readme.","code":"install.packages(\"piamValidation\", repos = \"https://rse.pik-potsdam.de/r/packages\")"},{"path":[]},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"remind-output-script","dir":"Articles","previous_headings":"Usage","what":"REMIND output script","title":"validateScenarios","text":"working directly REMIND, script comes shipped code make easy perform basic scenario validation. Go REMIND directory remind/ call Rscript output.R. choose “Comparison across runs” “validateScenarios”. Select runs interest choose one validationConfigs available via piamValidation. sure config choose, “default” good starting point.","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"scenario-validation","dir":"Articles","previous_headings":"Usage","what":"Scenario Validation","title":"validateScenarios","text":"generally, function piamValidation::validateScenarios() performs necessary steps validation process. takes config file iterates row, assembling required scenario reference data checking thresholds. output data.frame, combines scenario reference data threshold applied respective data point result validation checks. results can found columns check_value check, former containing value directly compared thresholds ( e.g. calculated growth rate growth rate check) latter result form traffic-light color. Using piamValidation::validateScenarios() argument extraColors = TRUE (default: TRUE) enables differentiation violating lower vs. upper bounds (note threshold names min_red min_yel change). Optionally, can save resulting data.frame .csv file providing outputFile. function argument config can either name config file found piamValidation (find name via inst/config/validationConfig_<name>.csv) full path config file.","code":"df <- validateScenarios(c(scenPath, histPath), config, outputFile = NULL)"},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"validation-report","dir":"Articles","previous_headings":"Usage","what":"Validation Report","title":"validateScenarios","text":"perform validation create output document one go, function piamValidation::validationReport() can used. calls validateScenarios additionally renders .html file features heat maps variables described config file. default, .Rmd validation_default used, alternatives can used created according individual needs inst/markdown. report saved folder called output current working directory. -> careful using function big data sets configs many variables might create large html files.","code":"validationReport(c(scenPath, histPath), config, report = \"default\")"},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"scenario-data","dir":"Articles","previous_headings":"Usage","what":"Scenario Data","title":"validateScenarios","text":"can pass IAMC-style .mif, .csv .xlsx files vectors paths function. precisely, data file can read quitte::read.quitte() featuring columns: Model, Scenario, Region, Variable, Unit, <years>","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"reference-data","dir":"Articles","previous_headings":"Usage","what":"Reference Data","title":"validateScenarios","text":"Reference data follow format guidelines scenario data exception scenario column needs read historical. passed validation function together scenario data part dataPath argument, e.g.: validateScenarios(dataPath = c(\"<path_to_scenario_data>\", \"<path_to_reference_data>\"), config = ...)","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"configuration-file","dir":"Articles","previous_headings":"Usage","what":"Configuration File","title":"validateScenarios","text":"config file place validation checks defined. offers lot flexibility many different types check writing file also comes rules - depending type check performed, different columns can need filled. General Rules one set thresholds per row allowed empty rows rows without “variable” ignored can used structure config later rows overwrite earlier rows data overlap one reference period/model/scenario per data-slice (e.g. don’t compare data ref_model1 ref_model2)","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"columns","dir":"Articles","previous_headings":"Usage > Configuration File","what":"Columns","title":"validateScenarios","text":"Comparison Type metric: decide type comparison performed, currently supported: relative, difference, absolute, growthrate critical: considered critical check? function validationPass complain failed checks set “yes” data validated? variable: choose one multiple variables checked; define multiple variables via “*” (one sub-level) “**” (sub-levels) unit: see paragraph model: choose one multiple (comma-separated) models, leave empty choose scenario: choose one multiple (comma-separated) scenarios, leave empty choose region: choose one multiple (comma-separated) regions, leave empty choose period: choose one multiple (comma-separated) periods, leave empty choose (historical checks: 2005 - 2020, cases: < 2100). can also select range via yyyy-yyyy. Thresholds min/max_yel/red: minimum maximum thresholds decide whether check passed (green), produces warning (yellow) failed (red). reference data missing result grey. line needs least one threshold. relative thresholds can given either percentage (20%) decimal (0.2). comparing ? ref_model: model comparison set reference model , also setting column model recommended avoid comparing model ref_scenario: column can used two ways - either compare two scenarios produced model one-another (similar model comparison), set historical compare model data observational data provided one multiple external sources. recommended choose historical reference source explicitly “ref_model” column historical comparisons. Otherwise, available historical sources averaged tooltip heat map show ref_model = \"multiple\". ref_period: compare data different periods, set reference period ","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"units","dir":"Articles","previous_headings":"Usage > Configuration File","what":"Units","title":"validateScenarios","text":"recommended include unit variable config file avoid inconsistency data sources. tool performs checks, whether units config match scenario reference data returns warning case don’t. check performed using piamInterfaces::areUnitsIdentical() avoid false positives. case scenario reference data contains variables multiple units, filtered units matching config file. unit column left empty, consistency check performed. recommended approach selecting multiple variables one go via **, don’t share unit.","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-cases","dir":"Articles","previous_headings":"Usage","what":"Use Cases","title":"validateScenarios","text":"give examples define various validation checks, see 6 use cases .","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-1-relative-comparison-to-reference-data","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 1: relative comparison to reference data","title":"validateScenarios","text":"want compare scenario data external reference source, provides historical (projected) data variable interested . thresholds defined relative deviation reference value: relDeviation=(scenValue−refValue)refValue\\textrm{relDeviation} = \\frac{(\\textrm{scenValue} - \\textrm{refValue})}{\\textrm{refValue}}. Example:","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-2-difference-to-reference-data","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 2: difference to reference data","title":"validateScenarios","text":"want compare scenario data external reference source, provides historical (projected) data variable interested . thresholds defined difference () reference value: difference=scenValue−refValue\\textrm{difference} = \\textrm{scenValue} - \\textrm{refValue}. Example:","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-3-relative-comparison-to-other-modelscenarioperiod","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 3: relative comparison to other model/scenario/period","title":"validateScenarios","text":"want compare scenario data , either comparing periods, scenarios models one another. select one multiple periods/scenarios/models respective “period/scenario/model” column exactly one “ref_period/scenario/model” column. thresholds defined relative deviation reference value: relDeviation=(scenValue−refValue)refValue\\textrm{relDeviation} = \\frac{(\\textrm{scenValue} - \\textrm{refValue})}{\\textrm{refValue}}. Example: Currently, support compare different regions variables one another.","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-4-difference-to-other-modelscenarioperiod","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 4: difference to other model/scenario/period","title":"validateScenarios","text":"want compare scenario data , either comparing periods, scenarios models one another. select one multiple periods/scenarios/models respective “period/scenario/model” column exactly one “ref_period/scenario/model” column. thresholds defined difference () reference value: difference=scenValue−refValue\\textrm{difference} = \\textrm{scenValue} - \\textrm{refValue}. Example:","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-5-direct-comparison-to-absolute-thresholds","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 5: direct comparison to absolute thresholds","title":"validateScenarios","text":"want compare scenario data explicit values. case want sanity checks variables never leave certain range expert guesses absolute upper lower thresholds. tool checks whether minRed/Yel<scenValue<maxYel/Red\\textrm{minRed/Yel} < \\textrm{scenValue} < \\textrm{maxYel/Red}. Example:","code":""},{"path":"https://pik-piam.github.io/piamValidation/articles/validateScenarios.html","id":"use-case-6-direct-comparison-to-yearly-growthrate","dir":"Articles","previous_headings":"Usage > Use Cases","what":"Use Case 6: direct comparison to yearly growthrate","title":"validateScenarios","text":"want check growth rates variables scenario data. 5-year steps expected, average yearly growth rate last 5 years calculated via: growthRate=(valuevalue5yearsAgo)15−1\\textrm{growthRate} = \\left(\\frac{\\textrm{value}}{\\textrm{value5yearsAgo}}\\right)^\\frac{1}{5} - 1. Example:","code":""},{"path":"https://pik-piam.github.io/piamValidation/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Pascal Weigmann. Author, maintainer. Oliver Richters. Author. Fabrice Lécuyer. Author.","code":""},{"path":"https://pik-piam.github.io/piamValidation/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Weigmann P, Richters O, Lécuyer F (2025). piamValidation: Validation Tools PIK-PIAM. R package version 0.6.1, https://pik-piam.github.io/piamValidation, https://github.com/pik-piam/piamValidation.","code":"@Manual{,   title = {piamValidation: Validation Tools for PIK-PIAM},   author = {Pascal Weigmann and Oliver Richters and Fabrice Lécuyer},   year = {2025},   note = {R package version 0.6.1, https://pik-piam.github.io/piamValidation},   url = {https://github.com/pik-piam/piamValidation}, }"},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"validation-tools-for-pik-piam","dir":"","previous_headings":"","what":"Validation Tools for PIK-PIAM","title":"Validation Tools for PIK-PIAM","text":"R package piamValidation, version 0.6.1","code":""},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"purpose-and-functionality","dir":"","previous_headings":"","what":"Purpose and Functionality","title":"Validation Tools for PIK-PIAM","text":"piamValidation package provides validation tools Potsdam Integrated Assessment Modelling environment.","code":""},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Validation Tools for PIK-PIAM","text":"installation recent package version additional repository added R: additional repository can made available permanently adding line file called .Rprofile stored home folder system (Sys.glob(\"~\") R returns home directory). recent version package can installed using install.packages: Package updates can installed using update.packages (make sure additional repository added running command):","code":"options(repos = c(CRAN = \"@CRAN@\", pik = \"https://rse.pik-potsdam.de/r/packages\")) install.packages(\"piamValidation\") update.packages()"},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"tutorial","dir":"","previous_headings":"","what":"Tutorial","title":"Validation Tools for PIK-PIAM","text":"package comes vignette describing basic functionality package use . can load following command (package needs installed):","code":"vignette(\"validateScenarios\") # validateScenarios"},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"questions--problems","dir":"","previous_headings":"","what":"Questions / Problems","title":"Validation Tools for PIK-PIAM","text":"case questions / problems please contact Pascal Weigmann pascal.weigmann@pik-potsdam.de.","code":""},{"path":"https://pik-piam.github.io/piamValidation/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Validation Tools for PIK-PIAM","text":"cite package piamValidation publications use: Weigmann P, Richters O, Lécuyer F (2025). “piamValidation: Validation Tools PIK-PIAM.” Version: 0.6.1, https://pik-piam.github.io/piamValidation%20https://github.com/pik-piam/piamValidation. BibTeX entry LaTeX users ","code":"@Misc{,  title = {piamValidation: Validation Tools for PIK-PIAM},  author = {Pascal Weigmann and Oliver Richters and Fabrice Lécuyer},  date = {2025-02-04},  year = {2025},  url = {https://pik-piam.github.io/piamValidation https://github.com/pik-piam/piamValidation},  note = {Version: 0.6.1}, }"},{"path":"https://pik-piam.github.io/piamValidation/reference/appendTooltips.html","id":null,"dir":"Reference","previous_headings":"","what":"construct tooltips for interactive plots — appendTooltips","title":"construct tooltips for interactive plots — appendTooltips","text":"construct tooltips interactive plots","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/appendTooltips.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"construct tooltips for interactive plots — appendTooltips","text":"","code":"appendTooltips(df)"},{"path":"https://pik-piam.github.io/piamValidation/reference/appendTooltips.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"construct tooltips for interactive plots — appendTooltips","text":"df data.frame returned `validateScenarios()`","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/checkUnits.html","id":null,"dir":"Reference","previous_headings":"","what":"Check variable consistency — checkUnits","title":"Check variable consistency — checkUnits","text":"Test whether unit row config data variable match.","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/checkUnits.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check variable consistency — checkUnits","text":"","code":"checkUnits(data, cfgRow)"},{"path":"https://pik-piam.github.io/piamValidation/reference/checkUnits.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check variable consistency — checkUnits","text":"data scenario reference data one variable cfgRow one row config file containing variable data object","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/combineData.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine scenario and reference data with thresholds — combineData","title":"Combine scenario and reference data with thresholds — combineData","text":"one row cfg: filter merge relevant scenario data cfg results one df contains scenario data, reference data thresholds","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/combineData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine scenario and reference data with thresholds — combineData","text":"","code":"combineData(scenData, cfgRow, histData = NULL)"},{"path":"https://pik-piam.github.io/piamValidation/reference/combineData.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine scenario and reference data with thresholds — combineData","text":"scenData scenario data cfgRow one row config file histData reference data","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/linePlotThresholds.html","id":null,"dir":"Reference","previous_headings":"","what":"takes the output of ","title":"takes the output of ","text":"takes output \"validateScenarios()\" plots heat maps per variable","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/linePlotThresholds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"takes the output of ","text":"","code":"linePlotThresholds(df, var, reg, scenData = FALSE, refData = FALSE)"},{"path":"https://pik-piam.github.io/piamValidation/reference/linePlotThresholds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"takes the output of ","text":"df data.frame plotted, returned “validateScenarios()“ plus optional filtering. works data point \"reference\" var choose variable plot reg choose region plot scenData decide whether scenario data part plot refData decide whether reference data part plot","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/piamValidation-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Validation Tools for PIK-PIAM — piamValidation-package","title":"Validation Tools for PIK-PIAM — piamValidation-package","text":"piamValidation package provides validation tools Potsdam Integrated Assessment Modelling environment.","code":""},{"path":[]},{"path":"https://pik-piam.github.io/piamValidation/reference/piamValidation-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Validation Tools for PIK-PIAM — piamValidation-package","text":"Maintainer: Pascal Weigmann pascal.weigmann@pik-potsdam.de Authors: Oliver Richters Fabrice Lécuyer","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validateScenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"performs the validation checks from a config on a scenario data set — validateScenarios","title":"performs the validation checks from a config on a scenario data set — validateScenarios","text":"performs validation checks config scenario data set","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validateScenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"performs the validation checks from a config on a scenario data set — validateScenarios","text":"","code":"validateScenarios(dataPath, config, outputFile = NULL, extraColors = TRUE)"},{"path":"https://pik-piam.github.io/piamValidation/reference/validateScenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"performs the validation checks from a config on a scenario data set — validateScenarios","text":"dataPath one multiple path(s) scenario data .mif .csv format, case historic comparison, also path reference data config select config inst/config give full path config file computer outputFile give name output file case results exported; include file extension extraColors TRUE, use cyan blue violation min thresholds instead using colors max thresholds (yel red)","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationHeatmap.html","id":null,"dir":"Reference","previous_headings":"","what":"takes the output of ","title":"takes the output of ","text":"takes output \"validateScenarios()\" plots heat maps per variable","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationHeatmap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"takes the output of ","text":"","code":"validationHeatmap(   df,   main_dim = \"variable\",   x_plot = NULL,   y_plot = NULL,   x_facet = NULL,   y_facet = NULL,   interactive = TRUE )"},{"path":"https://pik-piam.github.io/piamValidation/reference/validationHeatmap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"takes the output of ","text":"df data.frame plotted, returned “validateScenarios()“ (“appendTooltips()“ interactive), plus optional filtering. Needs least one dimension one unique element. main_dim 5-dim df, 1 dim contain element, main dimension plot, default: variable x_plot choose dimension display x-axis plot, NULL, arrangement chosen automatically based data dimensions y_plot choose dimension display y-axis plot x_facet choose dimension display x-dim facets y_facet choose dimension display x-dim facets interactive return plots interactive plotly plots default","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationPass.html","id":null,"dir":"Reference","previous_headings":"","what":"returns information on whether scenarios passed critical validation checks — validationPass","title":"returns information on whether scenarios passed critical validation checks — validationPass","text":"returns information whether scenarios passed critical validation checks","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationPass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"returns information on whether scenarios passed critical validation checks — validationPass","text":"","code":"validationPass(data, yellowFail = FALSE)"},{"path":"https://pik-piam.github.io/piamValidation/reference/validationPass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"returns information on whether scenarios passed critical validation checks — validationPass","text":"data data.frame returned “validateScenarios()“ yellowFail set TRUE yellow check result critical variable lead scenario passing validated","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationReport.html","id":null,"dir":"Reference","previous_headings":"","what":"perform validateScenarios and create an .html report using .Rmd templates — validationReport","title":"perform validateScenarios and create an .html report using .Rmd templates — validationReport","text":"perform validateScenarios create .html report using .Rmd templates","code":""},{"path":"https://pik-piam.github.io/piamValidation/reference/validationReport.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"perform validateScenarios and create an .html report using .Rmd templates — validationReport","text":"","code":"validationReport(   dataPath,   config,   report = \"default\",   outputDir = \"output\",   extraColors = TRUE )"},{"path":"https://pik-piam.github.io/piamValidation/reference/validationReport.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"perform validateScenarios and create an .html report using .Rmd templates — validationReport","text":"dataPath one multiple path(s) scenario data .mif .csv format config name config inst/config (\"validationConfig_<name>.csv\") give full path separate configuration file report name .Rmd inst/markdown (\"validationReport_<name>.Rmd\") rendered give full path separate .Rmd file outputDir choose directory save validation reports extraColors TRUE, use cyan blue violation min thresholds instead using colors max thresholds (yel red)","code":""}]
